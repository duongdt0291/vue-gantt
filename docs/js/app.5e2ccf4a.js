(function(t){function e(e){for(var i,s,l=e[0],d=e[1],o=e[2],c=0,f=[];c<l.length;c++)s=l[c],n[s]&&f.push(n[s][0]),n[s]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(t[i]=d[i]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,o||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,l=1;l<a.length;l++){var d=a[l];0!==n[d]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},n={app:0},r=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var o=0;o<l.length;o++)e(l[o]);var u=d;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"3d25":function(t,e,a){},"43fd":function(t,e,a){"use strict";var i=a("b9e1"),n=a.n(i);n.a},"49a7":function(t,e,a){},"4b07":function(t,e,a){"use strict";var i=a("c836"),n=a.n(i);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("gantt",{attrs:{title:t.title,fields:t.fields,items:t.items}})],1)},r=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"gantt-topbar"},[a("div",{staticClass:"gantt-title",domProps:{innerHTML:t._s(t.title)}}),a("div",{staticClass:"gantt-actions"},[a("div",{staticClass:"prev",on:{click:t.prev}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[a("polyline",{attrs:{points:"15 18 9 12 15 6"}})])]),a("flat-pickr",{ref:"input",model:{value:t.localStartDate,callback:function(e){t.localStartDate=e},expression:"localStartDate"}}),a("flat-pickr",{ref:"input",model:{value:t.localEndDate,callback:function(e){t.localEndDate=e},expression:"localEndDate"}}),a("div",{staticClass:"next",on:{click:t.next}},[a("svg",{staticClass:"feather feather-chevron-right",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[a("polyline",{attrs:{points:"9 18 15 12 9 6"}})])])],1)]),a("div",{ref:"gantt",staticClass:"gantt-chart"},[t.message.show?a("gantt-message",{attrs:{type:t.message.type,message:t.message.text},on:{close:function(e){t.message.show=!1}}}):t._e(),a("div",{staticClass:"gantt-header"},[a("div",{staticClass:"gantt-table",style:{width:t.table_width+"px"}},t._l(t.fields,function(e,i){return a("div",{key:i,staticClass:"table-cell",class:{sortable:!!e.sort},style:{width:e.width+"px"},on:{click:function(e){t.sortBy=i}}},[t._v(t._s(e.label))])})),a("div",{staticClass:"gantt-graph",style:{width:t.graph_width+"px"}},t._l(t.dates,function(e,i){return a("div",{key:i,staticClass:"table-cell",style:{width:t.cell_width+"px"}},[a("span",{staticClass:"day"},[t._v(t._s(t._f("moment")(e,"D")))]),a("span",{staticClass:"month"},[t._v(t._s(t._f("moment")(e,"MMM")))])])}))]),a("div",{staticClass:"gantt-content"},[a("div",{staticClass:"gantt-table",style:{width:t.table_width+"px"}},[t._l(t.localItems,function(e,i){return[a("div",{key:e.id,staticClass:"table-row"},[t._l(Object.keys(e),function(i,n){return t.fields.hasOwnProperty(i)?["gantt-user"===t.fields[i].component?a("gantt-user",{key:n,staticClass:"table-cell",attrs:{width:t.fields[i].width,user:t.user},model:{value:e[i],callback:function(a){t.$set(e,i,a)},expression:"item[field]"}}):t._e(),"gantt-text"===t.fields[i].component?a("gantt-text",{key:n,staticClass:"table-cell",attrs:{width:t.fields[i].width},on:{update:function(a){t.cellUpdated(t.fields[i].callback,e)}},model:{value:e[i],callback:function(a){t.$set(e,i,a)},expression:"item[field]"}}):t._e(),"gantt-date"===t.fields[i].component?a("gantt-date",{key:n,staticClass:"table-cell",attrs:{width:t.fields[i].width,minDate:e[t.fields[i].minDate]},on:{update:function(a){t.cellUpdated(t.fields[i].callback,e)}},model:{value:e[i],callback:function(a){t.$set(e,i,a)},expression:"item[field]"}}):t._e(),"gantt-number"===t.fields[i].component?a("gantt-number",{key:n,staticClass:"table-cell",attrs:{width:t.fields[i].width,min:t.fields[i].min,max:t.fields[i].max,suffix:t.fields[i].suffix},on:{update:function(a){t.cellUpdated(t.fields[i].callback,e)}},model:{value:e[i],callback:function(a){t.$set(e,i,a)},expression:"item[field]"}}):t._e()]:t._e()})],2)]})],2),a("gantt-graph",{attrs:{items:t.localItems,dates:t.dates,cell_width:t.cell_width,graph_width:t.graph_width,user:t.user},on:{"date-updated":t.dateUpdated}})],1),t.canEdit?a("div",{staticClass:"gantt-content new"},[a("div",{staticClass:"gantt-table",style:{width:t.table_width+"px"}},[a("div",{staticClass:"table-row"},t._l(t.fields,function(e,i){return a(e.component,{key:i,tag:"component",staticClass:"table-cell",attrs:{width:e.width,placeholder:e.placeholder,user:t.user}})}))]),a("div",{staticClass:"gantt-graph",style:{width:t.graph_width+"px"}},[a("div",{staticClass:"table-row"})])]):t._e()],1)])},l=[],d=(a("55dd"),a("7514"),a("6762"),a("456d"),a("ac6a"),a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{width:t.width+"px"}},[a("input",{ref:"input",staticClass:"cell",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){t.onUpdate(e.target.value)},blur:function(e){t.edit=!1}}})])}),o=[],u={props:{value:{type:String,required:!1},editable:{type:Boolean,default:!0,required:!1},width:{type:Number,default:300},placeholder:{type:String,default:"Add a new task..."}},methods:{onUpdate:function(t){this.$emit("input",t),this.$emit("update")}}},c=u,f=(a("cbfa"),a("2877")),p=Object(f["a"])(c,d,o,!1,null,"4bbaf86b",null);p.options.__file="gantt-text.vue";var h=p.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{flash:t.flash},style:{width:t.width+"px"}},[a("flat-pickr",{attrs:{placeholder:t.placeholder,value:t.value,config:t.config},on:{"on-change":t.onUpdate}})],1)},g=[],w={props:{value:{type:String,required:!1},editable:{type:Boolean,default:!0,required:!1},width:{type:Number,default:300},placeholder:{type:String,default:"01 Jan"},minDate:{type:String,default:""}},data:function(){return{edit:!1,flash:!1,config:{altInputClass:"cell",altInput:!0,altFormat:"d M",dateFormat:"Y-m-d H:i",minDate:""}}},methods:{onUpdate:function(t,e,a){this.$emit("input",e),this.$emit("update")}},watch:{minDate:function(){this.config.minDate=this.minDate},value:function(){var t=this;this.flash=!0,setTimeout(function(){t.flash=!1},5e3)}}},_=w,v=(a("4b07"),Object(f["a"])(_,m,g,!1,null,"53960927",null));v.options.__file="gantt-date.vue";var b=v.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{width:t.width+"px"}},[a("input",{ref:"input",staticClass:"cell number",attrs:{type:"number",min:t.min,max:t.max,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){t.onUpdate(e.target.value)},blur:function(e){t.edit=!1}}})])},k=[],x={props:{value:{type:Number,required:!1},editable:{type:Boolean,default:!0,required:!1},width:{type:Number,default:95},placeholder:{type:String,default:"0"},min:{type:Number,default:1},max:{type:Number,default:100},suffix:{type:String,default:""}},methods:{onUpdate:function(t){this.$emit("input",parseInt(t)),this.$emit("update")}}},C=x,D=(a("43fd"),Object(f["a"])(C,y,k,!1,null,"dde2754a",null));D.options.__file="gantt-number.vue";var $=D.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user?a("div",{style:{width:t.width+"px"}},[a("img",{staticClass:"cell-image",style:{width:t.width/2+"px",height:t.width/2+"px"},attrs:{src:t.value[t.user.image]}})]):t._e()},j=[],O={props:{value:{type:Object,required:!1,default:function(){return{}}},editable:{type:Boolean,default:!0,required:!1},width:{type:Number,default:40},user:{type:[Boolean,Object],default:function(){return{id:"id",image:"src"}}}},methods:{onUpdate:function(t){this.$emit("input",t),this.$emit("update")}}},M=O,E=(a("f390"),Object(f["a"])(M,S,j,!1,null,"4dd57c22",null));E.options.__file="gantt-user.vue";var F=E.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gantt-message-overlay",on:{click:t.close}},[a("div",{staticClass:"gantt-message-message",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"title"},[t._v(t._s(t.title))]),a("div",{staticClass:"description"},[t._v(t._s(t.description))])])])},q=[],B={props:{message:{type:String,required:!1},type:{type:String,required:!1}},methods:{close:function(){this.$emit("close")}},computed:{title:function(){if("missing_required_fields"===this.type)return"Missing required fields"},description:function(){if("missing_required_fields"===this.type)return"The start_date, end_date and duration field are required and should bre provided als props of the gantt component"}}},I=B,L=(a("67fd"),Object(f["a"])(I,U,q,!1,null,"70e7b2f0",null));L.options.__file="gantt-message.vue";var Y=L.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"graph",staticClass:"gantt-graph",style:{width:t.graph_width+"px"}},[t._l(t.items,function(e,i){return[a("div",{ref:"rows",refInFor:!0,staticClass:"table-row",staticStyle:{position:"relative"}},t._l(t.dates,function(i,n){return a("div",{key:n,ref:"cells",refInFor:!0,staticClass:"table-cell",style:{width:t.cell_width+"px"}},[t.compareDate(i,e.start_date,e)?a("div",{ref:"marker",refInFor:!0,staticClass:"marker",style:{width:t.cell_width*e.duration+"px"},attrs:{"data-cell-id":n+1,"data-row-id":e.id},on:{mousedown:function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:t.handleMouseDown(e):null}}},[t.user&&e.user?a("div",{staticClass:"marker-user"},[a("img",{attrs:{src:e.user[t.user.image]}})]):t._e(),e.progress?a("div",{staticClass:"marker-progress",class:{completed:e.progress>96},style:{width:+e.progress+"%"}}):t._e()]):t._e()])}))]})],2)},P=[],T={props:{items:{type:Array,default:function(){return[]}},dates:{type:Array,default:function(){return[]}},cell_width:{type:Number,default:0},graph_width:{type:Number,default:0},user:{type:[Boolean,Object],default:function(){return{id:"id",image:"src"}}}},mounted:function(){var t=this;this.$nextTick().then(function(){t.initDragable()})},methods:{compareDate:function(t,e){return this.$moment(t).format("Y-M-D")===this.$moment(e).format("Y-M-D")},handleMouseDown:function(t){t.preventDefault(),window.marker=t.target,window.marker.lastCoords={x:t.clientX},window.marker.lastCell=window.marker.dataset.cellId,window.marker.classList.add("selected")},initDragable:function(){var t=this;if(!this.$refs.marker)return!1;var e=this.$refs.graph,a=this.dates.length;document.documentElement.onmouseup=function(e){if(e.preventDefault(),!window.marker)return!1;var a=t.dates[window.marker.lastCell-1],i=window.marker.dataset.rowId,n=t.items.find(function(t){return t.id===parseInt(i)});window.marker.classList.remove("selected"),n.start_date=a,window.marker=null};var i=0,n=e.offsetLeft;document.documentElement.onmousemove=function(e){if(e.preventDefault(),!window.marker)return!1;if(window.marker.lastCoords){e.clientX,window.marker.lastCoords.x,window.getComputedStyle(window.marker)["left"].slice(0,-2);window.marker.lastCoords={x:e.clientX};for(var r=1;r<a+1;r++)if(0!==Math.floor(r*t.cell_width/(e.clientX-n))){i=r;break}window.marker.lastCell!==i&&(window.marker.style.left=(i-1)*t.cell_width+"px",window.marker.lastCell=i)}}}}},G=T,A=(a("692d"),Object(f["a"])(G,N,P,!1,null,null,null));A.options.__file="gantt-graph.vue";var H=A.exports,W={name:"Gantt",components:{GanttText:h,GanttDate:b,GanttNumber:$,GanttUser:F,GanttMessage:Y,GanttGraph:H},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}},fields:{type:Object,default:function(){return{start_date:{label:"Start",component:"gantt-date",width:75,placeholder:"Start",sort:"date"},end_date:{label:"End",component:"gantt-date",width:75,placeholder:"End",sort:"date"},duration:{label:"Days",component:"gantt-number",width:50,placeholder:"0"}}}},levels:{type:Number,default:2},dateLimit:{type:[String,Number],default:"auto"},startDate:{type:String,default:function(){return i["a"].moment().subtract(2,"d").format("YYYY-MM-DD HH:mm:ss")}},endDate:{type:String,default:function(){return i["a"].moment().add(5,"d").format("YYYY-MM-DD HH:mm:ss")}},canEdit:{type:Boolean,default:!0},user:{type:[Boolean,Object],default:function(){return{id:"id",image:"src"}}}},data:function(){return{gantt_width:0,table_width:0,graph_width:0,cell_width:0,longest_cell:{width:0,slug:""},dateFormat:"YYYY-MM-DD HH:mm",localStartDate:this.startDate,localEndDate:this.endDate,localDateLimit:this.dateLimit,requiredFields:["start_date","end_date","duration"],sortBy:!1,message:{show:!1,type:"",text:""}}},mounted:function(){var t=this,e=this,a=[];Object.keys(this.fields).forEach(function(e){var i=t.fields[e].width;t.table_width+=i,a.push(e),"start_date"===e&&(t.fields[e].callback="startdateUpdated"),"end_date"===e&&(t.fields[e].callback="enddateUpdated"),"end_date"===e&&(t.fields[e].minDate="start_date"),"duration"===e&&(t.fields[e].callback="durationUpdated"),t.longest_cell.width<i&&(t.longest_cell={width:i,slug:e})});var i=this.requiredFields.every(function(t){return a.includes(t)});i||this.handleInvalidFields(),this.calculateWidths(),window.onresize=function(t){e.calculateWidths()}},methods:{calculateWidths:function(){this.gantt_width=this.$refs.gantt.offsetWidth,this.graph_width=this.gantt_width-this.table_width,"auto"!==this.dateLimit?this.cell_width=this.graph_width/this.localDateLimit:this.calculateOptimalDateLimit()},calculateOptimalDateLimit:function(){var t=50;this.localDateLimit=Math.floor(this.graph_width/t),this.cell_width=this.graph_width/this.localDateLimit},prev:function(){this.localStartDate=this.$moment(this.localStartDate).subtract(1,"d").format(this.dateFormat)},next:function(){this.localStartDate=this.$moment(this.localStartDate).add(1,"d").format(this.dateFormat)},handleInvalidFields:function(){this.message.show=!0,this.message.type="missing_required_fields",this.message.text=""},cellUpdated:function(t,e){t&&this[t](e),this.$emit("update",e)},startdateUpdated:function(t){t.ignoreCallback||(t.ignoreCallback={}),t.ignoreCallback.start_date?t.ignoreCallback.start_date=!1:t.end_date=this.$moment(t.start_date,this.dateFormat).add(t.duration,"d").format(this.dateFormat)},enddateUpdated:function(t){if(t.ignoreCallback||(t.ignoreCallback={}),t.ignoreCallback.end_date)t.ignoreCallback.end_date=!1;else{var e=this.$moment(t.end_date,this.dateFormat).diff(this.$moment(t.start_date,this.dateFormat),"d");e>0&&(t.duration=e),t.ignoreCallback.duration=!0}},durationUpdated:function(t){if(t.ignoreCallback||(t.ignoreCallback={}),t.ignoreCallback.duration)t.ignoreCallback.duration=!1;else{var e=this.$moment(t.start_date,this.dateFormat).add(t.duration-1,"d");t.end_date=e.format(this.dateFormat),t.ignoreCallback.end_date=!0}},dateUpdated:function(t,e){var a=this.items.find(function(e){return e.id===parseInt(t)});a.start_date=e}},computed:{dates:function(){for(var t=[],e=0;e<this.localDateLimit;e++)t.push(this.$moment(this.localStartDate,this.dateFormat).add(e,"days").format(this.dateFormat));return t},localItems:function(){var t=this.items;if(this.sortBy){var e=this,a=this.fields[this.sortBy].sort;"date"===a&&t.sort(function(t,a){return new Date(t[e.sortBy])-new Date(a[e.sortBy])})}return this.sortBy=!1,t}},watch:{dates:function(){this.localEndDate=this.dates[this.dates.length-1]}}},X=W,J=(a("f4f9"),Object(f["a"])(X,s,l,!1,null,null,null));J.options.__file="gantt.vue";var z=J.exports,V={name:"app",components:{Gantt:z},data:function(){return{title:"<p><strong>Salamander</strong> Gantt chart</p>",fields:{summary:{label:"Summary",component:"gantt-text",width:300,placeholder:"Add a new task..."},start_date:{label:"Start",component:"gantt-date",width:75,placeholder:"Start",sort:"date"},end_date:{label:"End",component:"gantt-date",width:75,placeholder:"End",sort:"date"},duration:{label:"Days",component:"gantt-number",width:50,placeholder:"0"},progress:{label:"%",component:"gantt-number",width:50,placeholder:"0",min:0,max:100,suffix:"%"}},items:[{id:1,user:{id:1,src:"./default-1.png"},summary:"This is a task.",start_date:"2018-11-02 00:00",end_date:"2018-11-03 00:00",duration:2,progress:50,items:[{id:9,user:{id:1,src:"./default-1.png"},summary:"This is a subtask.",start_date:"2018-11-02 00:00",end_date:"2018-11-02 00:00",duration:1,progress:100},{id:10,user:{id:1,src:"./default-1.png"},summary:"A subtask falls under a parent task.",start_date:"2018-11-03 00:00",end_date:"2018-11-03 00:00",duration:1,progress:0}]},{id:2,user:{id:1,src:"./default-1.png"},summary:"This is a task with a longer description.",start_date:"2018-11-03 00:00",end_date:"2018-11-04 00:00",duration:2,progress:20},{id:3,user:{id:1,src:"./default-1.png"},summary:"You should first complete the first task.",start_date:"2018-11-04 00:00",end_date:"2018-11-12 00:00",duration:8,progress:10},{id:4,user:{id:2,src:"./default-2.png"},summary:"And then, you should complete the second task.",start_date:"2018-11-07 00:00",end_date:"2018-11-10 00:00",duration:3,progress:0},{id:5,user:{id:2,src:"./default-2.png"},summary:"Do not start with the last task.",start_date:"2018-11-09 00:00",end_date:"2018-11-15 00:00",duration:7,progress:0},{id:6,user:{id:1,src:"./default-1.png"},summary:"It will make your project manager mad.",start_date:"2018-11-15 00:00",end_date:"2018-11-17 00:00",duration:3,progress:0},{id:7,user:{id:3,src:"./default-3.png"},summary:"Very very... mad.",start_date:"2018-11-17 00:00",end_date:"2018-11-19 00:00",duration:3,progress:0},{id:8,user:{id:1,src:"./default-1.png"},summary:"Do not make your project manager mad.",start_date:"2018-11-19 00:00",end_date:"2018-11-21 00:00",duration:3,progress:0}]}}},K=V,Q=Object(f["a"])(K,n,r,!1,null,null,null);Q.options.__file="App.vue";var R=Q.exports,Z=a("c38f"),tt=a.n(Z);a("a1a3"),a("0952");i["a"].config.productionTip=!1,i["a"].use(a("2ead")),i["a"].component("flatPickr",tt.a),new i["a"]({render:function(t){return t(R)}}).$mount("#app")},"67d1":function(t,e,a){},"67fd":function(t,e,a){"use strict";var i=a("49a7"),n=a.n(i);n.a},"692d":function(t,e,a){"use strict";var i=a("67d1"),n=a.n(i);n.a},"9fa4":function(t,e,a){},a1a3:function(t,e,a){},b9e1:function(t,e,a){},c836:function(t,e,a){},cbfa:function(t,e,a){"use strict";var i=a("9fa4"),n=a.n(i);n.a},f390:function(t,e,a){"use strict";var i=a("f6d7"),n=a.n(i);n.a},f4f9:function(t,e,a){"use strict";var i=a("3d25"),n=a.n(i);n.a},f6d7:function(t,e,a){}});
//# sourceMappingURL=app.5e2ccf4a.js.map