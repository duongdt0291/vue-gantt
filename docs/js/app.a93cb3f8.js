(function(t){function e(e){for(var n,r,d=e[0],l=e[1],o=e[2],u=0,p=[];u<d.length;u++)r=d[u],i[r]&&p.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(p.length)p.shift()();return s.push.apply(s,o||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,d=1;d<a.length;d++){var l=a[d];0!==i[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=e,d=d.slice();for(var o=0;o<d.length;o++)e(d[o]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"05b8":function(t,e,a){"use strict";var n=a("d950"),i=a.n(n);i.a},1024:function(t,e,a){"use strict";var n=a("4c58"),i=a.n(n);i.a},"1a49":function(t,e,a){},"4c58":function(t,e,a){},5246:function(t,e,a){"use strict";var n=a("1a49"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("gantt",{attrs:{title:t.title,items:t.items}})],1)},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"gantt-topbar"},[a("div",{staticClass:"gantt-title",domProps:{innerHTML:t._s(t.title)}}),a("div",{staticClass:"gantt-actions"},[a("div",{staticClass:"prev",on:{click:t.prev}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[a("polyline",{attrs:{points:"15 18 9 12 15 6"}})])]),a("flat-pickr",{ref:"input",model:{value:t.localStartDate,callback:function(e){t.localStartDate=e},expression:"localStartDate"}}),a("flat-pickr",{ref:"input",model:{value:t.localEndDate,callback:function(e){t.localEndDate=e},expression:"localEndDate"}}),a("div",{staticClass:"next",on:{click:t.next}},[a("svg",{staticClass:"feather feather-chevron-right",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[a("polyline",{attrs:{points:"9 18 15 12 9 6"}})])])],1)]),a("div",{ref:"gantt",staticClass:"gantt-chart"},[t.message.show?a("gantt-message",{attrs:{type:t.message.type,message:t.message.text},on:{close:function(e){t.message.show=!1}}}):t._e(),a("div",{staticClass:"gantt-header"},[a("div",{staticClass:"gantt-table",style:{width:t.table_width+"px"}},t._l(t.fields,function(e,n){return a("div",{key:n,staticClass:"table-cell",style:{width:e.width+"px"}},[t._v(t._s(e.label))])})),a("div",{staticClass:"gantt-graph",style:{width:t.graph_width+"px"}},t._l(t.dates,function(e,n){return a("div",{key:n,staticClass:"table-cell",style:{width:t.cell_width+"px"}},[t._v("\n                    "+t._s(t._f("moment")(e,"D MMM"))+"\n                ")])}))]),a("div",{staticClass:"gantt-content"},[a("div",{staticClass:"gantt-table",style:{width:t.table_width+"px"}},[t._l(t.items,function(e,n){return[a("div",{key:n,staticClass:"table-row"},t._l(Object.keys(e),function(n,i){return t.fields.hasOwnProperty(n)?a(t.fields[n].component,{key:i,tag:"component",staticClass:"table-cell",attrs:{width:t.fields[n].width},on:{update:function(a){t.cellUpdated(t.fields[n].callback,e)}},model:{value:e[n],callback:function(a){t.$set(e,n,a)},expression:"item[field]"}}):t._e()}))]})],2),a("div",{staticClass:"gantt-graph",style:{width:t.graph_width+"px"}},[t._l(t.items,function(e,n){return[a("div",{key:n,staticClass:"table-row"},t._l(t.dates,function(n,i){return a("div",{key:i,staticClass:"table-cell",style:{width:t.cell_width+"px"}},[t.compareDate(n,e.start_date)?a("div",{staticClass:"marker",style:{width:t.cell_width*e.duration+"px"}}):t._e()])}))]})],2)]),t.canEdit?a("div",{staticClass:"gantt-content new"},[a("div",{staticClass:"gantt-table",style:{width:t.table_width+"px"}},[a("div",{staticClass:"table-row"},t._l(t.fields,function(t,e){return a(t.component,{key:e,tag:"component",staticClass:"table-cell",attrs:{width:t.width,placeholder:t.placeholder}})}))]),a("div",{staticClass:"gantt-graph",style:{width:t.graph_width+"px"}},[a("div",{staticClass:"table-row"})])]):t._e()],1)])},d=[],l=(a("6762"),a("456d"),a("ac6a"),a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{width:t.width+"px"}},[a("input",{ref:"input",staticClass:"cell",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){t.onUpdate(e.target.value)},blur:function(e){t.edit=!1}}})])}),o=[],c={props:{value:{type:String,required:!1},editable:{type:Boolean,default:!0,required:!1},width:{type:Number,default:300},placeholder:{type:String,default:"Add a new task..."}},methods:{onUpdate:function(t){this.$emit("input",t),this.$emit("update")}}},u=c,p=(a("cbfa"),a("2877")),h=Object(p["a"])(u,l,o,!1,null,"4bbaf86b",null);h.options.__file="gantt-text.vue";var f=h.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{width:t.width+"px"}},[a("flat-pickr",{ref:"input",attrs:{placeholder:t.placeholder,value:t.value,config:t.config},on:{"on-change":t.onUpdate}})],1)},v=[],g={props:{value:{type:String,required:!1},editable:{type:Boolean,default:!0,required:!1},width:{type:Number,default:300},placeholder:{type:String,default:"01 Jan"}},data:function(){return{edit:!1,config:{altInputClass:"cell",altInput:!0,altFormat:"d M",dateFormat:"Y-m-d H:i"}}},methods:{onUpdate:function(t,e,a){this.$emit("input",e),this.$emit("update")}}},_=g,y=(a("dda4"),Object(p["a"])(_,m,v,!1,null,"137e9f3a",null));y.options.__file="gantt-date.vue";var w=y.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{width:t.width+"px"}},[a("input",{ref:"input",staticClass:"cell",attrs:{type:"number",min:"1",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){t.onUpdate(e.target.value)},blur:function(e){t.edit=!1}}})])},k=[],x={props:{value:{type:Number,required:!1},editable:{type:Boolean,default:!0,required:!1},width:{type:Number,default:95},placeholder:{type:String,default:"0"}},methods:{onUpdate:function(t){this.$emit("input",parseInt(t))}}},C=x,D=(a("5246"),Object(p["a"])(C,b,k,!1,null,"0e66807f",null));D.options.__file="gantt-number.vue";var S=D.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gantt-message-overlay",on:{click:t.close}},[a("div",{staticClass:"gantt-message-message",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"title"},[t._v(t._s(t.title))]),a("div",{staticClass:"description"},[t._v(t._s(t.description))])])])},j=[],M={props:{message:{type:String,required:!1},type:{type:String,required:!1}},methods:{close:function(){this.$emit("close")}},computed:{title:function(){if("missing_required_fields"===this.type)return"Missing required fields"},description:function(){if("missing_required_fields"===this.type)return"The start_date, end_date and duration field are required and should bre provided als props of the gantt component"}}},O=M,F=(a("05b8"),Object(p["a"])(O,$,j,!1,null,"11c42c3d",null));F.options.__file="gantt-message.vue";var E=F.exports,Y={name:"Gantt",components:{GanttText:f,GanttDate:w,GanttNumber:S,GanttMessage:E},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}},fields:{type:Object,default:function(){return{summary:{label:"Summary",component:"gantt-text",width:300,placeholder:"Add a new task..."},start_date:{label:"Start date",component:"gantt-date",width:95,placeholder:"Start",callback:"startdateUpdated"},end_date:{label:"End date",component:"gantt-date",width:95,placeholder:"End",callback:"enddateUpdated"},duration:{label:"Days",component:"gantt-number",width:50,placeholder:"0",callback:"durationUpdated"}}}},levels:{type:Number,default:2},dateLimit:{type:Number,default:12},startDate:{type:String,default:function(){return n["a"].moment().format("YYYY-MM-DD HH:mm:ss")}},endDate:{type:String,default:function(){return n["a"].moment().add(7,"d").format("YYYY-MM-DD HH:mm:ss")}},canEdit:{type:Boolean,default:!0}},data:function(){return{gantt_width:0,table_width:0,graph_width:0,cell_width:0,dateFormat:"YYYY-MM-DD HH:mm:ss",localStartDate:this.startDate,localEndDate:this.endDate,requiredFields:["start_date","end_date","duration"],message:{show:!1,type:"",text:""}}},mounted:function(){var t=this,e=[];Object.keys(this.fields).forEach(function(a){t.table_width+=t.fields[a].width,e.push(a)});var a=this.requiredFields.every(function(t){return e.includes(t)});a||this.handleInvalidFields(),this.gantt_width=this.$refs.gantt.offsetWidth,this.graph_width=this.gantt_width-this.table_width,this.cell_width=this.graph_width/this.dateLimit},updated:function(){console.log("update triggered")},methods:{compareDate:function(t,e){return this.$moment(t).format("Y-M-D")===this.$moment(e).format("Y-M-D")},prev:function(){this.localStartDate=this.$moment(this.localStartDate).subtract(1,"d").format(this.dateFormat)},next:function(){this.localStartDate=this.$moment(this.localStartDate).add(1,"d").format(this.dateFormat)},handleInvalidFields:function(){this.message.show=!0,this.message.type="missing_required_fields",this.message.text=""},cellUpdated:function(t,e){t&&this[t](e),this.$emit("update",e)},startdateUpdated:function(t){var e=this.$moment(t.end_date,this.dateFormat).diff(this.$moment(t.start_date,this.dateFormat),"d");e>0&&(t.duration=e)},enddateUpdated:function(t){var e=this.$moment(t.end_date,this.dateFormat).diff(this.$moment(t.start_date,this.dateFormat),"d");e>0&&(t.duration=e)},durationUpdated:function(t){var e=this.$moment(t.start_date,this.dateFormat).add(t.duration,"d");t.end_date=e.format(this.dateFormat)}},computed:{dates:function(){for(var t=[],e=0;e<this.dateLimit;e++)t.push(this.$moment(this.localStartDate,this.dateFormat).add(e,"days").format(this.dateFormat));return t}},watch:{dates:function(){this.localEndDate=this.dates[this.dates.length-1]}}},q=Y,U=(a("1024"),Object(p["a"])(q,r,d,!1,null,"75c3d33d",null));U.options.__file="gantt.vue";var P=U.exports,H={name:"app",components:{Gantt:P},data:function(){return{title:"<p><strong>Salamander</strong> Gantt chart</p>",items:[{id:1,summary:"This is a task.",start_date:"2018-11-02 00:00",end_date:"2018-11-03 00:00",duration:1},{id:2,summary:"This is a task with a longer description.",start_date:"2018-11-03 00:00",end_date:"2018-11-04 00:00",duration:1},{id:3,summary:"You should first complete the first task.",start_date:"2018-11-04 00:00",end_date:"2018-01-11 00:00",duration:7},{id:4,summary:"And then, you should complete the second task.",start_date:"2018-11-07 00:00",end_date:"2018-11-09 00:00",duration:9},{id:5,summary:"Do not start with the last task.",start_date:"2018-11-09 00:00",end_date:"2018-11-15 00:00",duration:6},{id:6,summary:"It will make your project manager mad.",start_date:"2018-11-15 00:00",end_date:"2018-11-17 00:00",duration:2},{id:7,summary:"Very very very... mad.",start_date:"2018-11-17 00:00",end_date:"2018-11-19 00:00",duration:2},{id:8,summary:"But you only code once ;).",start_date:"2018-11-19 00:00",end_date:"2018-11-21 00:00",duration:2}]}}},T=H,B=Object(p["a"])(T,i,s,!1,null,null,null);B.options.__file="App.vue";var G=B.exports,N=a("c38f"),I=a.n(N);a("a1a3"),a("0952");n["a"].config.productionTip=!1,n["a"].use(a("2ead")),n["a"].component("flatPickr",I.a),new n["a"]({render:function(t){return t(G)}}).$mount("#app")},"9fa4":function(t,e,a){},a1a3:function(t,e,a){},cbfa:function(t,e,a){"use strict";var n=a("9fa4"),i=a.n(n);i.a},d950:function(t,e,a){},dda4:function(t,e,a){"use strict";var n=a("e316"),i=a.n(n);i.a},e316:function(t,e,a){}});
//# sourceMappingURL=app.a93cb3f8.js.map