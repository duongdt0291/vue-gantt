(function(t){function e(e){for(var n,l,s=e[0],d=e[1],o=e[2],u=0,p=[];u<s.length;u++)l=s[u],i[l]&&p.push(i[l][0]),i[l]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);c&&c(e);while(p.length)p.shift()();return r.push.apply(r,o||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var d=a[s];0!==i[d]&&(n=!1)}n&&(r.splice(e--,1),t=l(l.s=a[0]))}return t}var n={},i={app:0},r=[];function l(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=n,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(a,n,function(e){return t[e]}.bind(null,n));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var o=0;o<s.length;o++)e(s[o]);var c=d;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"4d0e":function(t,e,a){"use strict";a.r(e);var n=a("c879"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e["default"]=i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("gantt",{attrs:{title:t.title,items:t.items}})],1)},r=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"gantt-topbar"},[a("div",{staticClass:"gantt-title",domProps:{innerHTML:t._s(t.title)}}),a("div",{staticClass:"gantt-actions"},[a("flat-pickr",{ref:"input",model:{value:t.localStartDate,callback:function(e){t.localStartDate=e},expression:"localStartDate"}}),a("flat-pickr",{ref:"input",model:{value:t.localEndDate,callback:function(e){t.localEndDate=e},expression:"localEndDate"}})],1)]),a("div",{ref:"gantt",staticClass:"gantt-chart"},[a("div",{staticClass:"gantt-header"},[a("div",{staticClass:"gantt-table",style:{width:t.table_width+"px"}},t._l(t.fields,function(e,n){return a("div",{key:n,staticClass:"table-cell",style:{width:e.width+"px"}},[t._v(t._s(e.label))])})),a("div",{staticClass:"gantt-graph",style:{width:t.graph_width+"px"}},t._l(t.dates,function(e,n){return a("div",{key:n,staticClass:"table-cell",style:{width:t.cell_width+"px"}},[t._v("\n                    "+t._s(t._f("moment")(e,"D MMM"))+"\n                ")])}))]),a("div",{staticClass:"gantt-content"},[a("div",{staticClass:"gantt-table",style:{width:t.table_width+"px"}},[t._l(t.items,function(e,n){return[a("div",{key:n,staticClass:"table-row"},t._l(Object.keys(e),function(n,i){return t.fields.hasOwnProperty(n)?a(t.fields[n].component,{key:i,tag:"component",staticClass:"table-cell",attrs:{width:t.fields[n].width},model:{value:e[n],callback:function(a){t.$set(e,n,a)},expression:"item[field]"}}):t._e()}))]})],2),a("div",{staticClass:"gantt-graph",style:{width:t.graph_width+"px"}},[t._l(t.items,function(e,n){return[a("div",{key:n,staticClass:"table-row"},t._l(t.dates,function(n,i){return a("div",{key:i,staticClass:"table-cell",style:{width:t.cell_width+"px"}},[t.compareDate(n,e.start_date)?a("div",{staticClass:"marker"}):t._e()])}))]})],2)]),t.canEdit?a("div",{staticClass:"gantt-content new"},[a("div",{staticClass:"gantt-table",style:{width:t.table_width+"px"}},[a("div",{staticClass:"table-row"},t._l(t.fields,function(t,e){return a(t.component,{key:e,tag:"component",staticClass:"table-cell",attrs:{width:t.width,placeholder:t.placeholder}})}))]),a("div",{staticClass:"gantt-graph",style:{width:t.graph_width+"px"}},[a("div",{staticClass:"table-row"})])]):t._e()])])},s=[],d=(a("ac6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{width:t.width+"px"}},[a("input",{ref:"input",staticClass:"cell",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){t.onUpdate(e.target.value)},blur:function(e){t.edit=!1}}})])}),o=[],c={props:{value:{type:String,required:!1},editable:{type:Boolean,default:!0,required:!1},width:{type:Number,default:300},placeholder:{type:String,default:"Add a new task..."}},methods:{onUpdate(t){this.$emit("input",t)}}},u=c,p=a("2877");function f(t){var e=a("7819");e.__inject__&&e.__inject__(t)}var h=Object(p["a"])(u,d,o,!1,f,"2551aa55",null,!0);h.options.__file="gantt-text.vue";var m=h.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{width:t.width+"px"},on:{click:t.editCell}},[a("flat-pickr",{ref:"input",attrs:{placeholder:t.placeholder,config:t.config},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},v=[],y={props:{value:{type:String,required:!1},editable:{type:Boolean,default:!0,required:!1},width:{type:Number,default:300},placeholder:{type:String,default:"01 Jan"}},data(){return{edit:!1,config:{altInputClass:"cell",altInput:!0,altFormat:"d M",dateFormat:"Y-m-d"}}},methods:{onUpdate(){this.$emit("input",value)},editCell(){this.editable&&(this.edit=!0)}}},g=y;function b(t){var e=a("4d0e");e.__inject__&&e.__inject__(t)}var w=Object(p["a"])(g,_,v,!1,b,"4db5b536",null,!0);w.options.__file="gantt-date.vue";var k=w.exports,x={name:"Gantt",components:{GanttText:m,GanttDate:k},props:{title:{type:String,default:""},items:{type:Array,default:()=>{return[]}},fields:{type:Object,default:()=>{return{summary:{label:"Summary",component:"gantt-text",width:300,placeholder:"Add a new task..."},start_date:{label:"Start date",component:"gantt-date",width:95,placeholder:"Start"},end_date:{label:"End date",component:"gantt-date",width:95,placeholder:"End"}}}},levels:{type:Number,default:2},dateLimit:{type:Number,default:12},startDate:{type:String,default:()=>{return n["a"].moment().format("YYYY-MM-DD HH:mm:ss")}},endDate:{type:String,default:()=>{return n["a"].moment().add(7,"d").format("YYYY-MM-DD HH:mm:ss")}},canEdit:{type:Boolean,default:!0}},data(){return{gantt_width:0,table_width:0,graph_width:0,cell_width:0,dateFormat:"YYYY-MM-DD HH:mm:ss",localStartDate:this.startDate,localEndDate:this.endDate}},mounted(){console.log("Mount triggered"),Object.keys(this.fields).forEach(t=>{this.table_width+=this.fields[t].width}),this.gantt_width=this.$refs.gantt.offsetWidth,this.graph_width=this.gantt_width-this.table_width,this.cell_width=this.graph_width/this.dateLimit},updated(){console.log("update triggered")},methods:{compareDate(t,e){return this.$moment(t).format("Y-M-D")===this.$moment(e).format("Y-M-D")}},computed:{dates(){console.log("dates updated");for(var t=[],e=0;e<this.dateLimit;e++)t.push(this.$moment(this.localStartDate,this.dateFormat).add(e,"days").format(this.dateFormat));return t}},watch:{dates:function(){this.localEndDate=this.dates[this.dates.length-1]}}},C=x;function D(t){var e=a("8e0b");e.__inject__&&e.__inject__(t)}var j=Object(p["a"])(C,l,s,!1,D,"4585f58f",null,!0);j.options.__file="gantt.vue";var S=j.exports,M={name:"app",components:{Gantt:S},data(){return{title:"<p><strong>Salamander</strong> Gantt chart</p>",items:[{id:1,summary:"This is a task.",start_date:"2018-11-02 00:00",end_date:"2018-11-03 00:00"},{id:2,summary:"This is a task with a longer description.",start_date:"2018-11-03 00:00",end_date:"2018-11-04 00:00"},{id:3,summary:"You should first complete the first task.",start_date:"2018-11-04 00:00",end_date:"2018-01-11 00:00"},{id:4,summary:"And then, you should complete the second task.",start_date:"2018-11-07 00:00",end_date:"2018-11-09 00:00"},{id:5,summary:"Do not start with the last task.",start_date:"2018-11-09 00:00",end_date:"2018-11-15 00:00"},{id:6,summary:"It will make your project manager mad.",start_date:"2018-11-15 00:00",end_date:"2018-11-17 00:00"},{id:7,summary:"Very very very... mad.",start_date:"2018-11-17 00:00",end_date:"2018-11-19 00:00"},{id:8,summary:"But you only code once ;).",start_date:"2018-11-19 00:00",end_date:"2018-11-21 00:00"}]}}},O=M,Y=Object(p["a"])(O,i,r,!1,null,null,null,!0);Y.options.__file="App.vue";var E=Y.exports,$=a("c38f"),P=a.n($);a("a1a3"),a("0952");n["a"].config.productionTip=!1,n["a"].use(a("2ead")),n["a"].component("flatPickr",P.a),new n["a"]({render:function(t){return t(E)}}).$mount("#app")},7819:function(t,e,a){"use strict";a.r(e);var n=a("f5bc"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e["default"]=i.a},"8ac0":function(t,e,a){},"8e0b":function(t,e,a){"use strict";a.r(e);var n=a("8ac0"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e["default"]=i.a},a1a3:function(t,e,a){},c879:function(t,e,a){},f5bc:function(t,e,a){}});
//# sourceMappingURL=app.abff819e.js.map